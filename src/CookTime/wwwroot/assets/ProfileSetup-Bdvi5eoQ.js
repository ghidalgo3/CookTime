import{w as h,a as x,r as u,j as e}from"./chunk-EPOLDU6W-43oXRp_d.js";import{u as f}from"./AuthenticationContext-B1R-ZdmL.js";import{u as j}from"./useTitle-Da5jpf3t.js";import{C as g}from"./Container-GPxFZ03o.js";import{R as y,C,B as b}from"./Row-Ce-ZerzP.js";import{C as i}from"./Card-YjBlU5Fj.js";import{A as S}from"./Alert-R-VQZ3Me.js";import{F as s}from"./Form-DuBjGd-t.js";import{S as N}from"./Spinner-Bc6SJCTR.js";import"./ThemeProvider-CkrZYoIe.js";import"./useEventCallback-MTpNBJAZ.js";import"./CloseButton-XSD3H_yA.js";import"./browser-DefK9-wN.js";import"./index-Bq9MN8hm.js";import"./Anchor-CH68qDnb.js";const Y=h(function(){const c=x(),{user:T,updateDisplayName:p}=f(),[o,r]=u.useState(!1),[n,t]=u.useState();j("Set Up Your Profile");const d=async m=>{m.preventDefault(),r(!0),t(void 0);const a=new FormData(m.currentTarget).get("displayName")?.toString().trim();if(!a){t("Username is required"),r(!1);return}if(a.length<2||a.length>50){t("Username must be between 2 and 50 characters"),r(!1);return}const l=await p(a);l.ok?c("/",{replace:!0}):(t(l.message),r(!1))};return e.jsx(g,{children:e.jsx(y,{className:"justify-content-md-center",children:e.jsx(C,{style:{maxWidth:"540px",marginTop:"2rem"},children:e.jsx(i,{children:e.jsxs(i.Body,{style:{padding:"30px"},children:[e.jsx(i.Title,{as:"h1",children:"Welcome to CookTime! ðŸ³"}),e.jsx("p",{className:"text-muted",children:"Choose a username that other users will see when you share recipes."}),n&&e.jsx(S,{variant:"danger",dismissible:!0,onClose:()=>t(void 0),children:n}),e.jsxs(s,{onSubmit:d,children:[e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Username"}),e.jsx(s.Control,{required:!0,type:"text",name:"displayName",placeholder:"Enter your username",minLength:2,maxLength:50,autoFocus:!0}),e.jsx(s.Text,{className:"text-muted",children:"This must be unique across CookTime."})]}),e.jsx(b,{className:"width-100",type:"submit",disabled:o,children:o?e.jsx(N,{size:"sm"}):"Continue"})]})]})})})})})});export{Y as default};
